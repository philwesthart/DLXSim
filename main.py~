#!/usr/bin/python

import sys
import os
sys.path.append(os.path.abspath('./models'))
sys.path.append(os.path.abspath('./views'))
sys.path.append(os.path.abspath('./controllers'))
import Tkinter as tk
import Image, ImageTk
from ttk import Frame
import tkFont
from controller import Controller
from DLXDataPathView import DLXDataPathView
from InputInstructionView import InputInstructionView
from StateTransitionDiagramView import StateTransitionDiagramView
from MicroInstructionStateView import MicroInstructionStateView

root = tk.Tk()

class AppView(Frame):

    def __init__(self, parent):
        Frame.__init__(self, parent)
        self.parent = parent
        self.controller = Controller()
        
        self.current_instruction = 1
            
        #load DLX image
        self.DLXDPV = DLXDataPathView(self.parent, self.controller)
        self.DLXDPV.grid(row=0, column=0, rowspan=2)

        #Set up inputs
        self.InputInstructionView = InputInstructionView(self.parent, self.controller)
        self.InputInstructionView.grid(row=0, column=1, sticky=tk.N)

        #load STD View
        self.STD_canvas = StateTransitionDiagramView(self.parent, self.controller)
        self.STD_canvas.grid(row=1, column=1, sticky=tk.N+tk.S+tk.E+tk.W, columnspan=3)



root.wm_title("DLX Datapath Learning Simulator")
view = AppView(root)
view.parent.configure(background='gray')
root.mainloop()
